/*! @preserve build time 2018-12-10 19:02:03 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(this,function(){return function(t){function __webpack_require__(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,o){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(t,e,o){"use strict";function CustomEmitter(){function delegate(e){this[e]=t[e].bind(t)}var t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(delegate,this)}function wrapKeyEvent(t){return function(e){return e&&e.keyCode||(e||(e=window.event),e.which&&(e.keyCode=e.which)),t(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.CustomEmitter=CustomEmitter,e.wrapKeyEvent=wrapKeyEvent,function(){try{var t=new window.CustomEvent("test");if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var o,n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent"),o.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n=o.preventDefault,o.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},o};e.prototype=window.Event.prototype,window.CustomEvent=e}}(),function(t,e){function docHijack(t){var o=e[t];e[t]=function(t){return addListen(o(t))}}function addEvent(e,o,n){return(n=this).attachEvent("on"+e,function(e){e=e||t.event,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},o.call(n,e)})}function addListen(t,e){if(e=t.length)for(;e--;)t[e].addEventListener=addEvent;else t.addEventListener=addEvent;return t}t.addEventListener||(addListen([e,t]),"Element"in t?t.Element.prototype.addEventListener=addEvent:(e.attachEvent("onreadystatechange",function(){addListen(e.all)}),docHijack("getElementsByTagName"),docHijack("getElementById"),docHijack("createElement"),addListen(e.all)))}(window,document)},function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.validateDataType=e.DataTypeException=e.core=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=o(5),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}(r),i=o(0);!function(){var t=function(t){var e=new t;if("suspended"===e.state){var o=function resume(){if(/(iPhone|iPad)/i.test(navigator.userAgent)){var t=e.createBuffer(1,1,44100),o=e.createBufferSource();o.buffer=t,o.connect(e.destination),o.start(0),o.disconnect()}e.resume(),setTimeout(function(){"running"===e.state&&document.body.removeEventListener(["touchcancel","touchend","touchenter","touchleave","touchmove","touchstart","mouseenter","mouseover","mousemove","mousedown","mouseup"].join(" "),resume,!1)},0)};document.body.addEventListener(["touchcancel","touchend","touchenter","touchleave","touchmove","touchstart","mouseenter","mouseover","mousemove","mousedown","mouseup"].join(" "),o,!1)}return e};try{void 0!==window.AudioContext?window.AudioContext=t.bind(null,window.AudioContext):"undefined"!=typeof webkitAudioContext&&(window.webkitAudioContext=t.bind(null,window.webkitAudioContext))}catch(t){setTimeout(function(){throw t},0)}}();var u=(e.core=function(){function createController(t,e){var o,n;if(!u[t])throw new Error("Unsupported controller type, "+t);if(e=e||{},n=new u[t],e.enableKeyboard&&n.enableKeyboard(r),e.buttons)for(o in e.buttons)n.remapButton(o,e.buttons[o]);return n}var e=function(){},o={},n={VERSION:"2.2.0",CAPABILITIES:["ghostMode","saveState","replay","socialData","rewardedAds","coins","logEvents","playerData","share"],variant:0,soundUnlocked:!1,onReady:e,onGameStart:e},r={};r.gameeInit=function(t,e,a,i){var u=!0,s={};if(void 0!==a&&Array.isArray(a))for(var l=0;l<a.length;l++)"string"==typeof a[l]&&-1!==n.CAPABILITIES.indexOf(a[l])||(u=!1),s[a[l]]=!0;else u=!1;if(!u)throw"Capabilities array passed to gameeInit is void, malformed or unsupported capabilites requested.";this.native.createRequest("init",{version:n.VERSION,controller:t,capabilities:s},function(e){o.capabilities=s;var n=null;try{"web"===this.native.platform?(e.controller=r.controller.requestController(t,{enableKeyboard:!0}),this._bindKeyboardTriggers(e.controller)):e.controller=r.controller.requestController(t,{})}catch(t){n=t}i(n,e)}.bind(this))},r._bindKeyboardTriggers=function(e){t.addEventListener("message",function(t){switch(t.data[0]){case"button_button_down":e.trigger("keydown",{button:"button"});break;case"button_button_up":e.trigger("keyup",{button:"button"});break;case"button_left_up":e.trigger("keyup",{button:"left"});break;case"button_left_down":e.trigger("keydown",{button:"left"});break;case"button_right_down":e.trigger("keydown",{button:"right"});break;case"button_right_up":e.trigger("keyup",{button:"right"});break;case"button_up_down":e.trigger("keydown",{button:"up"});break;case"button_up_up":e.trigger("keyup",{button:"up"});break;case"button_down_down":e.trigger("keydown",{button:"down"});break;case"button_down_up":e.trigger("keyup",{button:"down"});break;case"button_a_down":e.trigger("keydown",{button:"A"});break;case"button_a_up":e.trigger("keyup",{button:"A"});break;case"button_b_down":e.trigger("keydown",{button:"B"});break;case"button_b_up":e.trigger("keyup",{button:"B"})}})},r.gameLoadingProgress=function(){var t=0;return function(e){if("number"!=typeof e||e<0||e>100)throw"Percentage passed to gameLoadingProgress out of bounds or not a number.";e>t&&(t=e,this.native.createRequest("gameLoadingProgress",{percentage:e}))}}(),r.gameReady=function(){this.native.createRequest("gameReady")},r.updateScore=function(t,e){if("number"!=typeof t)throw"Score passed to updateScore is not a number.";var o={score:parseInt(t,10)};e&&(o.ghostSign=!0),this.native.createRequest("updateScore",o)},r.gameOver=function(t,e){var o={};if(t){if(t.hasOwnProperty("variant")||(t.variant=""),!t.hasOwnProperty("data"))throw"Replay data must have `data` property";o.replayData=t}e&&(o.state=e),r.native.createRequest("gameOver",o)},r.gameSave=function(t,e){if(!o.capabilities.saveState)throw"Save State not supported, you must add the capability on gamee.Init";r.native.createRequest("saveState",{state:t,share:e})},r.requestSocial=function(t,e){if(!o.capabilities.socialData)throw"Social Data not supported, you must add the capability on gamee.Init";this.native.createRequest("requestSocial",e,function(e){t(null,e)})},r.logEvent=function(t,e){if(!o.capabilities.logEvents)throw"Log Events not supported, you must add the capability on gamee.Init";this.native.createRequest("logEvent",{eventName:t,eventValue:e},function(t){if(t)throw t})},r.requestPlayerReplay=function(t,e){if(!o.capabilities.replay)throw"Replays not supported, you must add the capability on gamee.Init";this.native.createRequest("requestPlayerReplay",{userID:t},function(t){e(null,t)})},r.requestPlayerSaveState=function(t,e){this.native.createRequest("requestPlayerSaveState",{userID:t},function(t){e(null,t)})},r.purchaseItem=function(t,e){if(!o.capabilities.coins)throw"Purchases not supported, you must add the capability on gamee.Init";if(t){["coinsCost","itemName"].forEach(function(e){if(!t.hasOwnProperty(e))throw"Purchase Options must have `"+e+"` property"})}this.native.createRequest("purchaseItem",t,function(t){e(null,t)})},r.share=function(t,e){if(!o.capabilities.share)throw"Share option not supported, you must add the capability on gamee.Init";if(t){["destination"].forEach(function(e){if(!t.hasOwnProperty(e))throw"Share Options must have `"+e+"` property"})}this.native.createRequest("share",t,function(t){e(null,t)})},r.loadRewardedVideo=function(t){if(!o.capabilities.rewardedAds)throw"Rewarded Ads not supported, you must add the capability on gamee.Init";this.native.createRequest("loadRewardedVideo",function(e){t(null,e)})},r.showRewardedVideo=function(t){if(!o.capabilities.rewardedAds)throw"Rewarded Ads not supported, you must add the capability on gamee.Init";this.native.createRequest("showRewardedVideo",function(e){t(null,e)})},r.requestPlayerData=function(t){if(!o.capabilities.playerData)throw"Player Data not supported, you must add the capability on gamee.Init";this.native.createRequest("requestPlayerData",function(e){t(null,e)})},r.startSignal=function(t){var e;return t.replay&&!o.capabilities.replay&&(e="Game doesn't support replay. "),t.ghostMode&&!o.capabilities.ghostMode&&(e="Game doesn't support ghost Mode. "),e},r.controller={mainController:null,requestController:function(t,e){if("FullScreen"===t)return null;var o=createController(t,e);return this.mainController=o,o},additionalController:function(t,e){var o=createController(t,e);return gameeNative.additionalController(t),o},trigger:function(){if(!this.mainController)throw new Error("No controller present");this.mainController.trigger.apply(this.mainController,arguments)}},r._keydown=function(e){t.addEventListener("keydown",(0,i.wrapKeyEvent)(e))},r._keyup=function(e){t.addEventListener("keyup",(0,i.wrapKeyEvent)(e))};var u={OneButton:a.OneButtonController,TwoButtons:a.TwoButtonController,FourButtons:a.FourButtonController,FiveButtons:a.FiveButtonController,SixButtons:a.SixButtonController,FourArrows:a.FourArrowController,Touch:a.TouchController,Joystick:a.JoystickController,JoystickWithButton:a.JoystickButtonController,TwoArrowsTwoButtons:a.TwoArrowsTwoButtonsController,TwoArrowsOneButton:a.TwoArrowsOneButtonController,TwoActionButtons:a.TwoActionButtonsController};return r.registerPlatform=function(t){},r}(),e.DataTypeException=function(t,e,o,n){this.expected=t,this.present=e,this.method=n,this.argument=o,this.message="Invalid data type in method "+this.method+", argument "+this.argument+" is expected to be "+this.expected+", but found "+this.present});e.validateDataType=function(t,e,o,r){switch(e){case"array":if(!Array.isArray(t))throw new u(e,void 0===t?"undefined":n(t),o,r);break;default:if((void 0===t?"undefined":n(t))!==e)throw new u(e,void 0===t?"undefined":n(t),o,r)}}}).call(e,o(7))},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gamee=e.GameeEmitter=void 0;var n=o(1),r=o(0),a=e.GameeEmitter=function(){r.CustomEmitter.call(this)};(e.Gamee=function(t){this.emitter=new a,this._platform=t}).prototype=function(){var t=function(t){if(t)throw"Error "+t.toString()};return{_controller:n.core.controller,gameInit:function(t,e,o,r){(0,n.validateDataType)(t,"string","controllType","gamee.updateScore"),(0,n.validateDataType)(e,"object","controllOpts","gamee.gameInit"),(0,n.validateDataType)(o,"array","capabilities","gamee.gameInit"),(0,n.validateDataType)(r,"function","cb","gamee.gameInit"),n.core.gameeInit(t,e,o,r)},gameLoadingProgress:function(e,o){(0,n.validateDataType)(e,"number","percentage","gamee.gameLoadingProgress"),o=o||t,(0,n.validateDataType)(o,"function","opt_cb","gamee.gameLoadingProgress"),n.core.gameLoadingProgress(e),o(null)},gameReady:function(e){e=e||t,(0,n.validateDataType)(e,"function","opt_cb","gamee.gameReady"),n.core.gameReady(),e(null)},gameSave:function(e,o,r){(0,n.validateDataType)(e,"string","data","gamee.gameSave"),"function"==typeof o?r=o:void 0!==o&&(0,n.validateDataType)(o,"boolean","opt_share","gamee.gameSave"),r=r||t,(0,n.validateDataType)(r,"function","opt_cb","gamee.gameSave"),n.core.gameSave(e,!1),r(null)},getPlatform:function(){return this._platform},updateScore:function(e,o,r){(0,n.validateDataType)(e,"number","score","gamee.updateScore"),"function"==typeof o?r=o:void 0!==o&&(0,n.validateDataType)(o,"boolean","opt_ghostSign","gamee.updateScore"),r=r||t,(0,n.validateDataType)(r,"function","opt_cb","gamee.updateScore"),n.core.updateScore(e,o),r(null)},gameOver:function(e,o,r){"function"==typeof e?o=e:void 0!==e&&(0,n.validateDataType)(e,"object","opt_replayData","gamee.gameOver"),o=o||t,(0,n.validateDataType)(o,"function","opt_cb","gamee.gameOver"),n.core.gameOver(e,r),o(null)},requestSocial:function(t,e){(0,n.validateDataType)(t,"function","cb","gamee.requestSocial"),n.core.requestSocial(function(e,o){var n=o.hasOwnProperty("socialData")?o:{socialData:o};t(null,n)},e)},logEvent:function(t,e){(0,n.validateDataType)(t,"string","eventName","gamee.logEvent"),!t||t.length>24||((0,n.validateDataType)(e,"string","eventValue","gamee.logEvent"),!e||e.length>160||n.core.logEvent(t,e))},requestPlayerReplay:function(t,e){(0,n.validateDataType)(t,"number","userID","gamee.requestPlayerReplay"),(0,n.validateDataType)(e,"function","cb","gamee.requestPlayerReplay"),n.core.requestPlayerReplay(t,e)},requestPlayerSaveState:function(t,e){(0,n.validateDataType)(t,"number","userID","gamee.requestPlayerSaveState"),(0,n.validateDataType)(e,"function","cb","gamee.requestPlayerSaveState"),n.core.requestPlayerSaveState(t,e)},purchaseItem:function(t,e){(0,n.validateDataType)(t,"object","purchaseDetails","gamee.purchaseItem"),(0,n.validateDataType)(e,"function","cb","gamee.purchaseItem"),n.core.purchaseItem(t,e)},share:function(t,e){(0,n.validateDataType)(t,"object","shareDetails","gamee.share"),(0,n.validateDataType)(e,"function","cb","gamee.share"),n.core.share(t,e)},loadRewardedVideo:function(t){(0,n.validateDataType)(t,"function","cb","gamee.loadRewardedVideo"),n.core.loadRewardedVideo(t)},showRewardedVideo:function(t){(0,n.validateDataType)(t,"function","cb","gamee.showRewardedVideo"),n.core.showRewardedVideo(t)},requestPlayerData:function(t){(0,n.validateDataType)(t,"function","cb","gamee.requestPlayerData"),n.core.requestPlayerData(t)}}}()},function(t,e,o){"use strict";function PlatformBridge(){this.requests={},this.platform="",this._init()}function PostMessageBridge(t){this._gameeWin=t,PlatformBridge.call(this),this.platform="web"}function MobileBridge(t){this.device=t,PostMessageBridge.call(this),this.platform="mobile"}Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformAPI=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.PlatformBridge=PlatformBridge,e.PostMessageBridge=PostMessageBridge,e.MobileBridge=MobileBridge;var r=o(1),a=e.PlatformAPI={emitter:null,pause:function(t){var e=new CustomEvent("pause",{detail:{callback:t}});this.emitter.dispatchEvent(e)},resume:function(t){var e=new CustomEvent("resume",{detail:{callback:t}});this.emitter.dispatchEvent(e)},ghostShow:function(t){var e=new CustomEvent("ghostShow",{detail:{callback:t}});this.emitter.dispatchEvent(e)},ghostHide:function(t){var e=new CustomEvent("ghostHide",{detail:{callback:t}});this.emitter.dispatchEvent(e)},mute:function(t){var e=new CustomEvent("mute",{detail:{callback:t}});this.emitter.dispatchEvent(e)},unmute:function(t){var e=new CustomEvent("unmute",{detail:{callback:t}});this.emitter.dispatchEvent(e)},start:function(t,e){var o=new CustomEvent("start",{detail:{callback:e}}),n=r.core.startSignal(t);if(n)return void e(n);t.replay&&(o.detail.opt_replay=!0),t.ghostMode&&(o.detail.opt_ghostMode=!0),t.resetState&&(o.detail.opt_resetState=!0),t.replayData&&(o.detail.replayData=t.replayData),this.emitter.dispatchEvent(o)}};PlatformBridge.prototype={instCount:0,_init:function(){},createRequest:function(t,e,o){if(this.validateMethod(t)){"function"==typeof e&&(o=e,e=void 0);var n=this.instCount++;void 0!==o&&(this.requests[n]=o);var r={request:{method:t,messageId:n,data:null}};this.doCall(r,e)}},validateMethod:function(t){return"gameLoadingProgress"!==t},doCall:function(t,e){throw"Not implemented"},_callback:function(t,e){var o=this.requests[t];delete this.requests[t],o&&o(e)},doResponse:function(t,e){throw"Not implemented"}},PostMessageBridge.prototype=Object.create(PlatformBridge.prototype),PostMessageBridge.prototype.constructor=PostMessageBridge,PostMessageBridge.prototype._init=function(){window.addEventListener("message",function(t){var e;if("object"===n(t.detail)&&null!==typeof t.detail)e=t.detail;else{if("object"!==n(t.data))return;e=t.data}if(e.request&&e.request.method&&void 0!==e.request.messageId)this._resolveAPICall(e.request.method,e.request.messageId,e.request.data);else if(e.response&&void 0!==e.response.messageId){if(e.error)throw e.error;this._callback(e.response.messageId,e.response.data)}}.bind(this),!1)},PostMessageBridge.prototype.doCall=function(t,e){"object"===(void 0===e?"undefined":n(e))&&(t.request.data=e||{}),this._gameeWin.postMessage(t,"*")},PostMessageBridge.prototype.doResponse=function(t,e){var o={version:this.version,response:{messageId:t}};e&&(o.data=e),this._gameeWin.postMessage(o,"*")},PostMessageBridge.prototype._resolveAPICall=function(t,e,o){var n=this.doResponse.bind(this,e);switch(t){case"pause":a.pause(n);break;case"resume":a.resume(n);break;case"mute":a.mute(n);break;case"unmute":a.unmute(n);break;case"ghostShow":a.ghostShow(n);break;case"ghostHide":a.ghostHide(n);break;case"start":if(!o)throw"Method _start missing params";a.start(o,n)}},MobileBridge.prototype=Object.create(PostMessageBridge.prototype),MobileBridge.prototype.constructor=MobileBridge,MobileBridge.prototype._init=function(){if(PostMessageBridge.prototype._init.call(this),"ios"===this.device)this._gameeWin=webkit.messageHandlers.callbackHandler;else{if("android"!==this.device)throw"Unknown device used in webkit bridge";this._gameeWin=_toDevice}window._triggerMessage=function(t){try{t=JSON.parse(t)}catch(e){throw"Couldn't parse message from native app: \n"+t+"\n"+e}this.dispatchEvent(new CustomEvent("message",{detail:t}))}.bind(window)},MobileBridge.prototype.doCall=function(t,e){"object"===(void 0===e?"undefined":n(e))&&(t.request.data=e||{}),"android"===this.device&&(t=JSON.stringify(t)),this._gameeWin.postMessage(t,"*")}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e={};t.on=function(t,o,n){if(!(arguments.length<2||"string"!=typeof t||"function"!=typeof o)){var r=o.toString();void 0!==e[t]?void 0===e[t].callbacks[r]?e[t].callbacks[r]={cb:o,once:!!n}:"boolean"==typeof n&&(e[t].callbacks[r].once=n):(e[t]={callbacks:{}},e[t].callbacks[r]={cb:o,once:!!n})}},t.once=function(e,o){t.on(e,o,!0)},t.off=function(t,o){if("string"==typeof t&&void 0!==e[t])if("function"==typeof o){var n=o.toString(),r=e[t].callbacks[n];void 0!==r&&delete e[t].callbacks[n]}else delete e[t]},t.trigger=function(o,n){if("string"==typeof o&&void 0!==e[o])for(var r in e[o].callbacks){var a=e[o].callbacks[r];"function"==typeof a.cb&&a.cb(n),"boolean"==typeof a.once&&!0===a.once&&t.off(o,a.cb)}}};e.Bullet=new n},function(t,e,o){"use strict";function Button(t,e){var o=this;r.call(this),this._pressed=!0,this.key=t,this.keyCode=e,this.on("keydown",function(){o._pressed=!0}),this.on("keyup",function(){o._pressed=!1})}function Controller(){var t=this;r.call(this),this.buttons={},this.buttonAlias={},this.on("$keydown",function(e){e.button&&t.buttonAlias[e.button]&&(e.button=t.buttonAlias[e.button]),t.trigger("keydown",e)}),this.on("$keyup",function(e){e.button&&t.buttonAlias[e.button]&&(e.button=t.buttonAlias[e.button]),t.trigger("keyup",e)}),this.on("keydown",function(e){e.button&&t.buttons[e.button]&&t.buttons[e.button].trigger("keydown")}),this.on("keyup",function(e){e.button&&t.buttons[e.button]&&t.buttons[e.button].trigger("keyup")})}function OneButtonController(){Controller.call(this),this.addButton(new Button("button",32))}function TwoButtonController(){Controller.call(this),this.addButton(new Button("left",37)),this.addButton(new Button("right",39))}function TwoActionButtonsController(){Controller.call(this),this.addButton(new Button("A",32)),this.addButton(new Button("B",17))}function FourButtonController(){Controller.call(this),this.addButton(new Button("up",38)),this.addButton(new Button("left",37)),this.addButton(new Button("right",39)),this.addButton(new Button("A",32))}function FiveButtonController(){Controller.call(this),this.addButton(new Button("up",38)),this.addButton(new Button("left",37)),this.addButton(new Button("right",39)),this.addButton(new Button("down",40)),this.addButton(new Button("A",32))}function SixButtonController(){Controller.call(this),this.addButton(new Button("up",38)),this.addButton(new Button("left",37)),this.addButton(new Button("right",39)),this.addButton(new Button("down",40)),this.addButton(new Button("A",32)),this.addButton(new Button("B",17))}function TwoArrowsOneButtonController(){Controller.call(this),this.addButton(new Button("left",37)),this.addButton(new Button("right",39)),this.addButton(new Button("A",32))}function TwoArrowsTwoButtonsController(){Controller.call(this),this.addButton(new Button("left",37)),this.addButton(new Button("right",39)),this.addButton(new Button("A",32)),this.addButton(new Button("B",17))}function FourArrowController(){Controller.call(this),this.addButton(new Button("up",38)),this.addButton(new Button("left",37)),this.addButton(new Button("right",39)),this.addButton(new Button("down",40))}function TouchController(){var t=this;Controller.call(this),this.on("$touchstart",function(e){t.trigger("touchstart",e)}),this.on("$touchend",function(e){t.trigger("touchend",e)}),this.on("$touchmove",function(e){t.trigger("touchmove",e)}),this.on("$touchleave",function(e){t.trigger("touchleave",e)}),this.on("$touchcancel",function(e){t.trigger("touchcancel",e)})}function JoystickController(){var t=this;Controller.call(this),this.x=0,this.y=0,this.on("$change",function(e){t.x=e.position.x,t.y=e.position.y,t.trigger("change",e)})}function JoystickButtonController(){JoystickController.call(this),this.addButton(new Button("button",32))}Object.defineProperty(e,"__esModule",{value:!0}),e.BulletClass=void 0,e.Button=Button,e.Controller=Controller,e.OneButtonController=OneButtonController,e.TwoButtonController=TwoButtonController,e.TwoActionButtonsController=TwoActionButtonsController,e.FourButtonController=FourButtonController,e.FiveButtonController=FiveButtonController,e.SixButtonController=SixButtonController,e.TwoArrowsOneButtonController=TwoArrowsOneButtonController,e.TwoArrowsTwoButtonsController=TwoArrowsTwoButtonsController,e.FourArrowController=FourArrowController,e.TouchController=TouchController,e.JoystickController=JoystickController,e.JoystickButtonController=JoystickButtonController;var n=o(4),r=e.BulletClass=n.Bullet.constructor;Button.prototype=Object.create(r.constructor.prototype),Button.constructor=Button,Button.prototype.isDown=function(){return this._pressed},Controller.prototype=Object.create(r.constructor.prototype),Controller.constructor=Controller,Controller.prototype.addButton=function(t){this.buttons[t.key]=t},Controller.prototype.enableKeyboard=function(t){var e,o,n={},r=this;for(e in this.buttons)o=this.buttons[e],o.keyCode&&(n[o.keyCode]=o);t._keydown(function(t){var e=n[t.keyCode];e&&(t.preventDefault(),r.trigger("keydown",{button:e.key}))}),t._keyup(function(t){var e=n[t.keyCode];e&&(t.preventDefault(),r.trigger("keyup",{button:e.key}))})},Controller.prototype.remapButton=function(t,e){if(e.name&&(e=e.name),!this.buttons[t])throw Error("Button "+t+" was not found in controller");this.buttonAlias[t]=e.name,this.buttons[e.name]=this.buttons[t],delete this.buttons[t]},OneButtonController.prototype=Object.create(Controller.prototype),OneButtonController.prototype.constructor=OneButtonController,TwoButtonController.prototype=Object.create(Controller.prototype),TwoButtonController.prototype.constructor=TwoButtonController,TwoActionButtonsController.prototype=Object.create(Controller.prototype),TwoActionButtonsController.prototype.constructor=TwoActionButtonsController,FourButtonController.prototype=Object.create(Controller.prototype),FourButtonController.prototype.constructor=FourButtonController,FiveButtonController.prototype=Object.create(Controller.prototype),FiveButtonController.prototype.constructor=FiveButtonController,SixButtonController.prototype=Object.create(Controller.prototype),SixButtonController.prototype.constructor=SixButtonController,TwoArrowsOneButtonController.prototype=Object.create(Controller.prototype),TwoArrowsOneButtonController.prototype.constructor=TwoArrowsOneButtonController,TwoArrowsTwoButtonsController.prototype=Object.create(Controller.prototype),TwoArrowsTwoButtonsController.prototype.constructor=TwoArrowsTwoButtonsController,FourArrowController.prototype=Object.create(Controller.prototype),FourArrowController.prototype.constructor=FourArrowController,TouchController.prototype=Object.create(TouchController.prototype),TouchController.prototype.constructor=TouchController,JoystickController.prototype=Object.create(Controller.prototype),JoystickController.prototype.constructor=JoystickController,JoystickButtonController.prototype=Object.create(JoystickController.prototype),JoystickButtonController.prototype.constructor=JoystickButtonController},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gamee=void 0,o(0);var n=o(2),r=o(1),a=o(3),i=e.gamee=void 0,u=function(){var t,o="web",r=navigator.userAgent.toLowerCase();switch(/iphone|ipod|ipad/.test(r)?o=window.self!==window.top?"web":"ios":/gamee\/[0-9\.]+$/.test(r)?o="android":window.parent?o="web":window.parent&&window.parent.gameeSimulator&&(o="web"),e.gamee=i=new n.Gamee(o),window.gamee=i,o){case"web":window.parent,window,t=new a.PostMessageBridge(window.parent);break;case"ios":t=new a.MobileBridge("ios");break;case"android":t=new a.MobileBridge("android");break;default:throw"Can't identify the platform"}return t}();r.core.PlatformAPI=a.PlatformAPI,r.core.native=u,a.PlatformAPI.emitter=i.emitter},function(t,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(o=window)}t.exports=o}])});
//# sourceMappingURL=gamee-js.min.js.map